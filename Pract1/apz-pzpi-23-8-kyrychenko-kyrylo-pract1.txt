МІНІСТЕРСТВО ОСВІТИ І НАУКИ УКРАЇНИ




ХАРКІВСЬКИЙ НАЦІОНАЛЬНИЙ УНІВЕРСИТЕТ РАДІОЕЛЕКТРОНІКИ


Кафедра «Програмна інженерія»








ЗВІТ
з практичної роботи №1
з дисципліни «Аналіз та рефакторинг коду»
на тему «Правила оформлення програмного коду на Python за стандартом PEP 8 / Python Style Guide на прикладі Django»












Виконав:                                                                           Прийняв:
ст. гр. ПЗПІ-23-8                                                              Старший викладач каф. ПІ                                                                 
Кириченко К. В.                                                               Сокорчук І. П.








Харків 2025
________________
1 ІСТОРІЯ ЗМІН
№
	Дата
	Версія звіту
	Опис змін та виправлень
	1
	08.11.2025
	0.1
	Створено відповідні розділи звіту
	

	

	

	

	

2 ЗАВДАННЯ
Метою даної роботи є дослідження основних правил оформлення програмного коду на мові на Python у контексті фреймворку Django відповідно до офіційних рекомендацій PEP 8 та стилю Django, формування розуміння важливості стандартизації стилю для підвищення якості веб-проєктів, а також вивчення практичних інструментів та підходів, таких як структурування додатків, форматування QuerySet’ів, іменування моделей, документування Class-Based Views та автоматизація перевірок, що є ключовими для ефективної командної роботи та довгострокової підтримки проєктів.
3 ОПИС ВИКОНАНОЇ РОБОТИ
3.1 Структура Django-проєкту
Цей пункт аналізує принципи організації коду в проєкті Django, зокрема логічний поділ на додатки (apps) та коректне групування імпортів. Було продемонстровано, що такий підхід забезпечує легкість пошуку необхідного функціоналу, сприяє повторному використанню додатків і робить код зрозумілим для інших членів команди. Наведений приклад ілюструє правильний підхід до групування імпортів.


Приклад коду (ДОБРЕ):
1 # Стандартна бібліотека
2 import datetime
3 
4 # Сторонні бібліотеки
5 import requests
6 
7 # Імпорти з Django
8 from django.shortcuts import render
9 from django.views.generic import ListView
10 
11 # Імпорти з локальних додатків
12 from users.models import Profile
13 from .models import Post


Приклад коду (ПОГАНО):
1 from django.shortcuts import render
2 import requests
3 from .models import Post
4 import datetime


У першому прикладі імпорти згруповані у чотири логічні блоки, що дозволяє миттєво зрозуміти залежності файлу. У другому прикладі імпорти перемішані, що створює хаос і ускладнює аналіз залежностей, особливо у великих файлах.
3.2 Форматування коду
В рамках цього пункту досліджено правила форматування коду в Django та їхній вплив на читабельність. Наголошено на тому, що коректне використання відступів, вирівнювання та обмеження довжини рядків допомагають розробникам швидко зрозуміти структуру запитів до бази даних (QuerySet) та уникнути логічних помилок.


Приклад коду(ДОБРЕ):
1 recent_active_posts = (
2     Post.objects
3     .filter(
4         author__is_active=True,
5         status='published'
6     )
7     .exclude(category='drafts')
8     .order_by('-published_date')
9 )


Приклад коду(ПОГАНО):
1 posts = Post.objects.filter(author__is_active=True, status='published').exclude(category='drafts').order_by('-published_date')


Перший приклад демонструє, як розбиття запиту на кілька рядків робить його логіку легкою для читання та модифікації. Другий варіант, написаний в один рядок, ускладнює сприйняття та підвищує ризик помилок при внесенні змін.
3.3 Іменування в Django
Цей розділ фокусується на правилах іменування моделей, полів, URL-шаблонів та файлів шаблонів у Django. Було зазначено, що імена повинні слідувати загальноприйнятим конвенціям: PascalCase для моделей, snake_case для полів та URL-шаблонів, а також наголошено на важливості використання констант для полів з вибором (choices).


Приклад коду (blog/models.py):
1 class Post(models.Model):
2     STATUS_DRAFT = 'draft'
3     STATUS_PUBLISHED = 'published'
4 
5     STATUS_CHOICES = [
6         (STATUS_DRAFT, 'Чернетка'),
7         (STATUS_PUBLISHED, 'Опубліковано'),
8     ]
9 
10    title = models.CharField(max_length=200)
11    status = models.CharField(
12        max_length=10,
13        choices=STATUS_CHOICES,
14        default=STATUS_DRAFT
15    )

        Наведені приклади показують, як дотримання конвенцій іменування (Post, title, post_list) забезпечує передбачуваність коду та дозволяє фреймворку використовувати свої автоматизовані механізми.
3.4 Коментарі
Даний пункт розглядає правила використання коментарів у Django. Продемонстровано, що коментарі мають пояснювати складні запити до бази даних або нетривіальну бізнес-логіку, а не дублювати очевидні дії коду.


Приклад коду(ДОБРЕ):
1 from django.db.models import Q
2 
3 # Пояснення "чому":
4 # Ми використовуємо Q об'єкти для пошуку по двом полям одночасно (OR логіка),
5 # що неможливо зробити стандартним методом filter() (який використовує AND).
6 posts = Post.objects.filter(
7     Q(title__icontains=query) | Q(content__icontains=query)
8 )


Приклад коду(ПОГАНО):
1 # Отримуємо всі пости
2 posts = Post.objects.all()


Перший коментар є корисним, оскільки розкриває технічну причину вибору саме Q об’єктів. Другий коментар є надлишковим, бо просто дублює очевидну дію.
3.5 Документування коду
Цей розділ присвячено правилам документування коду в Django за допомогою Docstrings. Було зазначено, що документація повинна містити опис класів (особливо Class-Based Views), методів моделей, параметрів та даних, що передаються в контекст шаблону.


Приклад коду (ДОБРЕ):
1 class PostDetailView(DetailView):
2     """
3     Відображає одну повну статтю блогу.
4 
5     **Контекст для шаблону:**
6     - `post`: об'єкт статті, що відображається.
7     - `related_posts`: список з 5 схожих статей.
8     """
9     model = Post


Приклад коду (ПОГАНО):
1 class PostDetailView(DetailView):
2 # View для показу статті
3 model = Post


У першому прикладі docstring чітко описує призначення View та дані (‘post’, ‘related_posts’), які будуть доступні в шаблоні. У другому прикладі звичайний коментар не надає жодної корисної інформації.
        3.6 Архітектурні принципи
        В цьому пункті для Django розглянуто певну конвенцію стилю – принцип Товсті моделі, тонкі view. Згідно з цим підходом, бізнес-логіка має бути інкапсульована в методах моделей, а views – залишатися простими.
3.7 Кодування на основі тестування (TDD)
В рамках цього пункту проаналізовано підхід Test-Driven Development (TDD) у Django. Було підкреслено, що написання тестів до реалізації функціоналу підвищує надійність коду.


Приклад коду (тест):
1 from django.test import TestCase
2 from .models import Post
3 
4 class PostModelTest(TestCase):
5     def test_is_published_method(self):
6         post = Post(title="Тестовий пост")
7         self.assertIs(post.is_published(), False)


Приклад коду (реалізація в models.py):
1 class Post(models.Model):
2     published_date = models.DateTimeField(null=True, blank=True)
3
4     def is_published(self):
5         """Повертає True, якщо пост опубліковано."""
6         return self.published_date is not None


Приклад ілюструє, як тест описує очікуваний результат методу моделі, дозволяючи переконатися, що бізнес-логіка відповідає вимогам. Підхід без TDD (написання коду, а потім тестів) часто призводить до створення коду, який важко протестувати.
3.8 Інструменти та автоматизація
Даний розділ описує інструменти для автоматичного контролю якості коду в Django.


Приклад підходу (добре):
        Налаштування pre-commit хуків, які автоматично запускають black, flake8 та isort перед кожним комітом. Це гарантує, що весь код, який потрапляє до репозиторію, відповідає єдиному стандарту.


Приклад підходу (погано):
        Усна домовленість у команді “використовувати PEP 8”. Це призводить до того, що розробники забувають форматувати код, що породжує довгі та непродуктивні дискусії про стиль під час код-рев’ю.


Автоматизація забезпечує стабільну якість коду, тоді як ручні процеси залежать від людського фактора і є ненадійними.
3.9 Приклади оформлення коду
На завершення, цей пункт ілюструє на практиці рефакторинг коду в Django відповідно до принципу “Товсті моделі, тонкі views”.


Приклад коду (ПОГАНО - “товстий” view):
1 def publish_post(request, pk):
2     post = Post.objects.get(pk=pk)
3     post.status = 'published'
4     post.published_date = timezone.now()
5     post.save()
6     return redirect('post_detail', pk=post.pk)


Приклад коду (ПОГАНО - логіка в моделі):
1 # --- Файл models.py ---
2 class Post(models.Model):
3     # ...
4     def publish(self):
5         self.status = 'published'
6         self.published_date = timezone.now()
7         self.save()
8 
9 # --- Файл views.py ---
10 def publish_post(request, pk):
11    post = Post.objects.get(pk=pk)
12    post.publish()
13    return redirect('post_detail', pk=post.pk)


У першому варіанті логіка публікації знаходиться безпосередньо у view. Це робить її важкою для тестування та повторного використання. У другому, ця логіка винесена в метод моделі publish(), що робить view “тонким”, а бізнес-логіку – перевикористовуваною та легкою для тестування.
4 ВИСНОВКИ
Під час виконання даної практичної роботи було всебічно досліджено правила оформлення коду на Python у контексті фреймворку Django відповідно до офіційних рекомендацій PEP 8 та стилю Django. Було проаналізовано фундаментальні аспекти, такі як структура проєкту на основі додатків та правила форматування, зокрема для QuerySet’ів. Особливу увагу було приділено специфічним для Django конвенціям іменування моделей, URL-шаблонів та файлів, а також принципам документування коду за допомогою Docstrings для Class-Based Views та методів моделей. Також було розглянуто архітектурний принцип “Товсті моделі, тонкі views” та важливість автоматизації контролю якості за допомогою інструментів Black, Flake8 і методології TDD. Практичне застосування цих правил на прикладах дозволило сформувати комплексне розуміння того, як створювати чистий, зрозумілий та підтримуваний код у Django-проєктах.










































________________


ВИКОРИСТАНІ ДЖЕРЕЛА


1. PEP 8 - Style Guide for Python Code. URL:  https://peps.python.org/pep-0008/ (дата звернення: 08.11.2025).
2. Django Documentation: Coding Style. URL: https://docs.djangoproject.com/en/stable/internals/contributing/writing-code/coding-style/ (дата звернення: 08.11.2025).
3. Google Python Style Guide. URL: https://google.github.io/styleguide/pyguide.html (дата звернення: 08.11.2025).








































________________


ДОДАТОК А
Посилання на Youtube відеозапис
https://youtu.be/m3FcSjwpZUM
















































________________


ДОДАТОК Б
Слайди презентації


  

Рисунок 1 – Титульний слайд


  

Рисунок 2 – Слайд правил оформлення коду




  

Рисунок 3 – Слайд структури та імпортів


  

Рисунок 4 – Слайд форматування коду










  

Рисунок 5 – Слайд іменування


  

Рисунок 6 – Слайд коментарів










  

Рисунок 7 – Слайд документування коду(docstrings)


  

Рисунок 8 – Слайд кодування на основі тестування(TDD)










  

Рисунок 9 – Слайд інструменти та автоматизація


  

Рисунок 10 – Слайд приклади рефакторингу в Django










  

Рисунок 11 – Слайд висновки 


  

Рисунок 12 – Слайд використаних джерел